import{a as I}from"./chunk-H2PK7HBQ.js";import{b as J,c as D,d as W,l as j}from"./chunk-DXVCRUBE.js";import{Ba as P,Ka as m,La as p,N as M,Ra as n,S as f,Sa as e,T as x,Wa as y,Xa as u,Za as s,ba as w,cb as v,eb as t,fb as _,gb as g,hb as O,jb as S,kb as E,lb as T,pb as k,qa as c}from"./chunk-GDEO6Z43.js";function V(r,o){if(r&1){let i=y();n(0,"div",7)(1,"button",20),u("click",function(){f(i);let a=s();return x(a.copyToken())}),t(2,"\u{1F4CB} Copy Token"),e(),n(3,"button",20),u("click",function(){f(i);let a=s();return x(a.reset())}),t(4,"\u{1F504} Clear"),e()()}}function z(r,o){if(r&1&&(n(0,"div",8)(1,"strong"),t(2,"\u26A0\uFE0F Error:"),e(),t(3),e()),r&2){let i=s();c(3),g(" ",i.error())}}function A(r,o){if(r&1&&(n(0,"div",30)(1,"span",31),t(2,"Issued At (iat):"),e(),n(3,"span",32),t(4),e()()),r&2){let i=s(3);c(4),_(i.formatTimestamp(i.decodedJWT().payload.iat))}}function F(r,o){if(r&1&&(n(0,"span",34),t(1),e()),r&2){let i=o;v("expired",i.expired),c(),g(" ",i.timeLeft," ")}}function U(r,o){if(r&1&&(n(0,"div",30)(1,"span",31),t(2,"Expires (exp):"),e(),n(3,"span",32),t(4),m(5,F,2,3,"span",33),e()()),r&2){let i,d,a=s(3);c(3),v("expired",(i=a.getExpiryStatus())==null?null:i.expired),c(),g(" ",a.formatTimestamp(a.decodedJWT().payload.exp)," "),c(),p((d=a.getExpiryStatus())?5:-1,d)}}function B(r,o){if(r&1&&(n(0,"div",30)(1,"span",31),t(2,"Not Before (nbf):"),e(),n(3,"span",32),t(4),e()()),r&2){let i=s(3);c(4),_(i.formatTimestamp(i.decodedJWT().payload.nbf))}}function R(r,o){if(r&1&&(n(0,"div",26)(1,"h4"),t(2,"\u23F0 Time Claims:"),e(),m(3,A,5,1,"div",30),m(4,U,6,4,"div",30),m(5,B,5,1,"div",30),e()),r&2){let i=s(2);c(3),p(i.decodedJWT().payload.iat?3:-1),c(),p(i.decodedJWT().payload.exp?4:-1),c(),p(i.decodedJWT().payload.nbf?5:-1)}}function H(r,o){if(r&1){let i=y();n(0,"div",9)(1,"div",21)(2,"div",22)(3,"h3"),t(4,"\u{1F4CB} Header"),e(),n(5,"button",23),u("click",function(){f(i);let a=s();return x(a.copyHeader())}),t(6,"Copy"),e()(),n(7,"pre")(8,"code"),t(9),e()(),n(10,"div",24)(11,"strong"),t(12,"Raw:"),e(),t(13),e()(),n(14,"div",25)(15,"div",22)(16,"h3"),t(17,"\u{1F4E6} Payload"),e(),n(18,"button",23),u("click",function(){f(i);let a=s();return x(a.copyPayload())}),t(19,"Copy"),e()(),n(20,"pre")(21,"code"),t(22),e()(),m(23,R,6,3,"div",26),n(24,"div",24)(25,"strong"),t(26,"Raw:"),e(),t(27),e()(),n(28,"div",27)(29,"div",22)(30,"h3"),t(31,"\u270D\uFE0F Signature"),e()(),n(32,"div",28),t(33),e(),n(34,"div",29)(35,"strong"),t(36,"Note:"),e(),t(37," Signature verification requires the secret key and is not performed in the browser for security reasons. "),e()()()}if(r&2){let i=s();c(9),_(i.formatJSON(i.decodedJWT().header)),c(4),g(" ",i.decodedJWT().raw.header),c(9),_(i.formatJSON(i.decodedJWT().payload)),c(),p(i.decodedJWT().payload.exp||i.decodedJWT().payload.iat||i.decodedJWT().payload.nbf?23:-1),c(4),g(" ",i.decodedJWT().raw.payload),c(6),g(" ",i.decodedJWT().signature," ")}}var N=class r{snackbarService=M(I);jwtInput=w("");decodedJWT=w(null);error=w("");isValid=k(()=>this.decodedJWT()!==null&&this.error()==="");decodeJWT(){let o=this.jwtInput().trim();if(!o){this.decodedJWT.set(null),this.error.set("");return}try{let i=o.split(".");if(i.length!==3)throw new Error("Invalid JWT format. JWT must have 3 parts separated by dots.");let[d,a,l]=i,b=JSON.parse(this.base64UrlDecode(d)),C=JSON.parse(this.base64UrlDecode(a));this.decodedJWT.set({header:b,payload:C,signature:l,raw:{header:d,payload:a,signature:l}}),this.error.set("")}catch(i){this.decodedJWT.set(null),this.error.set(i instanceof Error?i.message:"Invalid JWT token")}}base64UrlDecode(o){let i=o.replace(/-/g,"+").replace(/_/g,"/"),d=i.length%4;d&&(i+="=".repeat(4-d));try{let a=atob(i);return decodeURIComponent(a.split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{throw new Error("Failed to decode base64. Invalid JWT encoding.")}}formatJSON(o){return JSON.stringify(o,null,2)}copyHeader(){let o=this.decodedJWT();o&&navigator.clipboard.writeText(this.formatJSON(o.header)).then(()=>this.snackbarService.success("Header copied to clipboard!"),()=>this.snackbarService.error("Failed to copy to clipboard"))}copyPayload(){let o=this.decodedJWT();o&&navigator.clipboard.writeText(this.formatJSON(o.payload)).then(()=>this.snackbarService.success("Payload copied to clipboard!"),()=>this.snackbarService.error("Failed to copy to clipboard"))}copyToken(){navigator.clipboard.writeText(this.jwtInput()).then(()=>this.snackbarService.success("JWT token copied to clipboard!"),()=>this.snackbarService.error("Failed to copy to clipboard"))}reset(){this.jwtInput.set(""),this.decodedJWT.set(null),this.error.set("")}getExpiryStatus(){let o=this.decodedJWT();if(!o||!o.payload.exp)return null;let i=o.payload.exp,d=Math.floor(Date.now()/1e3),a=i-d;if(a<0)return{expired:!0,timeLeft:"Expired"};let l=Math.floor(a/86400),b=Math.floor(a%86400/3600),C=Math.floor(a%3600/60),h="";return l>0&&(h+=`${l}d `),b>0&&(h+=`${b}h `),C>0&&(h+=`${C}m`),{expired:!1,timeLeft:h||"Less than a minute"}}formatTimestamp(o){return typeof o!="number"?"Invalid timestamp":new Date(o*1e3).toLocaleString()}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=P({type:r,selectors:[["app-jwt-decoder"]],decls:108,vars:6,consts:[[1,"converter-container"],[1,"header-section"],[1,"animated-icon"],[1,"card"],[1,"input-section"],["for","jwt-input",1,"label"],["id","jwt-input","placeholder","Paste your JWT token here (eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...)","rows","6",1,"input-textarea",3,"ngModelChange","input","ngModel"],[1,"button-group"],[1,"error-box"],[1,"decoded-sections"],[1,"info-card"],[1,"info-content"],[1,"structure-diagram"],[1,"jwt-part","jwt-header"],[1,"jwt-dot"],[1,"jwt-part","jwt-payload"],[1,"jwt-part","jwt-signature"],[1,"use-cases"],[1,"warning-box"],[1,"code-section"],[1,"btn","btn-secondary","btn-small",3,"click"],[1,"decoded-section","header-section-box"],[1,"section-header"],[1,"btn","btn-primary","btn-small",3,"click"],[1,"raw-value"],[1,"decoded-section","payload-section-box"],[1,"claims-info"],[1,"decoded-section","signature-section-box"],[1,"signature-value"],[1,"signature-note"],[1,"claim-row"],[1,"claim-label"],[1,"claim-value"],[1,"expiry-badge",3,"expired"],[1,"expiry-badge"]],template:function(i,d){i&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),t(3,"JWT Decoder"),e(),n(4,"div",2),t(5,"\u{1F513}"),e()(),n(6,"div",3)(7,"div",4)(8,"label",5),t(9,"Enter JWT Token:"),e(),n(10,"textarea",6),T("ngModelChange",function(l){return E(d.jwtInput,l)||(d.jwtInput=l),l}),u("input",function(){return d.decodeJWT()}),e(),m(11,V,5,0,"div",7),e(),m(12,z,4,1,"div",8),m(13,H,38,6,"div",9),e(),n(14,"div",10)(15,"h2"),t(16,"\u{1F4DA} What is JWT (JSON Web Token)?"),e(),n(17,"div",11)(18,"p"),t(19," JWT is an open standard (RFC 7519) for securely transmitting information between parties as a JSON object. It's digitally signed, so the information can be verified and trusted. "),e(),n(20,"h3"),t(21,"\u{1F50D} JWT Structure:"),e(),n(22,"div",12)(23,"div",13)(24,"strong"),t(25,"Header"),e(),n(26,"p"),t(27,"Algorithm & Token Type"),e()(),n(28,"span",14),t(29,"."),e(),n(30,"div",15)(31,"strong"),t(32,"Payload"),e(),n(33,"p"),t(34,"Claims & Data"),e()(),n(35,"span",14),t(36,"."),e(),n(37,"div",16)(38,"strong"),t(39,"Signature"),e(),n(40,"p"),t(41,"Verification Hash"),e()()(),n(42,"h3"),t(43,"\u{1F4DD} Common Use Cases:"),e(),n(44,"ul",17)(45,"li")(46,"strong"),t(47,"Authentication:"),e(),t(48," Single sign-on, user sessions"),e(),n(49,"li")(50,"strong"),t(51,"Authorization:"),e(),t(52," Access control, permissions"),e(),n(53,"li")(54,"strong"),t(55,"Information Exchange:"),e(),t(56," Secure data transmission"),e(),n(57,"li")(58,"strong"),t(59,"API Access:"),e(),t(60," Bearer tokens for REST APIs"),e()(),n(61,"h3"),t(62,"\u2705 Advantages:"),e(),n(63,"ul")(64,"li"),t(65,"Compact and self-contained"),e(),n(66,"li"),t(67,"Can be transmitted via URL, POST, or HTTP header"),e(),n(68,"li"),t(69,"Stateless authentication"),e(),n(70,"li"),t(71,"Works across different domains (CORS)"),e(),n(72,"li"),t(73,"Easy to scale horizontally"),e()(),n(74,"h3"),t(75,"\u26A0\uFE0F Security Considerations:"),e(),n(76,"div",18)(77,"ul")(78,"li"),t(79," Never store sensitive data in JWT payload (it's only base64 encoded, not encrypted) "),e(),n(80,"li"),t(81,"Always use HTTPS to transmit JWTs"),e(),n(82,"li"),t(83,"Set appropriate expiration times"),e(),n(84,"li"),t(85,"Use strong secret keys for signing"),e(),n(86,"li"),t(87,"Validate tokens on the server side"),e(),n(88,"li"),t(89,"Consider using refresh tokens for long-lived sessions"),e()()(),n(90,"h3"),t(91,"\u{1F4BB} Decoding JWT in Code:"),e(),n(92,"div",19)(93,"h4"),t(94,"JavaScript/Node.js:"),e(),n(95,"pre")(96,"code"),t(97,`// Using jsonwebtoken library
const jwt = require('jsonwebtoken');

// Decode without verification
const decoded = jwt.decode(token);

// Verify and decode
const verified = jwt.verify(token, 'your-secret-key');`),e()(),n(98,"h4"),t(99,"Python:"),e(),n(100,"pre")(101,"code"),t(102),e()(),n(103,"h4"),t(104,"Bash:"),e(),n(105,"pre")(106,"code"),t(107,`# Split JWT and decode payload
echo "eyJhbGc..." | cut -d'.' -f2 | base64 -d | jq`),e()()()()()()),i&2&&(c(10),S("ngModel",d.jwtInput),c(),p(d.jwtInput()?11:-1),c(),p(d.error()?12:-1),c(),p(d.isValid()?13:-1),c(89),O(`import jwt

# Decode without verification
decoded = jwt.decode(token, options=`,"{",'"verify_signature": False',"}",`)

# Verify and decode
decoded = jwt.decode(token, 'your-secret-key', algorithms=['HS256'])`))},dependencies:[j,J,D,W],styles:["@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-10px) rotate(-5deg)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.converter-container[_ngcontent-%COMP%]{max-width:1000px;margin:2rem auto;padding:0 1rem}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem}.animated-icon[_ngcontent-%COMP%]{font-size:4rem;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite;display:inline-block}.card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:2rem;margin-bottom:2rem;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}.input-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:600;font-size:1rem}.input-textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;border:2px solid #bdc3c7;border-radius:8px;font-family:Courier New,monospace;font-size:.875rem;resize:vertical;transition:all .3s ease}.input-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db1a}.input-textarea[_ngcontent-%COMP%]::placeholder{color:#95a5a6}.button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-small[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#95a5a6,#7f8c8d);color:#fff}.error-box[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#ffebee,#ffcdd2);border-left:4px solid #e74c3c;border-radius:8px;color:#c0392b;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}.decoded-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}.decoded-section[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;border-left:4px solid}.header-section-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);border-color:#4caf50}.payload-section-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e3f2fd,#bbdefb);border-color:#2196f3}.signature-section-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3e0,#ffe0b2);border-color:#ff9800}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}pre[_ngcontent-%COMP%]{background-color:#2c3e50;color:#ecf0f1;padding:1rem;border-radius:6px;overflow-x:auto;margin:0}pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.875rem;line-height:1.6}.raw-value[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background-color:#0000000d;border-radius:4px;font-size:.75rem;word-break:break-all;color:#555}.signature-value[_ngcontent-%COMP%]{font-family:Courier New,monospace;background-color:#0000000d;padding:1rem;border-radius:6px;word-break:break-all;color:#2c3e50;font-size:.875rem}.signature-note[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background-color:#fff9e6;border-radius:4px;font-size:.875rem;color:#856404}.claims-info[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;background-color:#ffffffb3;border-radius:6px}.claims-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#2c3e50}.claim-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px solid rgba(0,0,0,.1)}.claim-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.claim-label[_ngcontent-%COMP%]{font-weight:600;color:#34495e}.claim-value[_ngcontent-%COMP%]{color:#2c3e50;text-align:right}.claim-value.expired[_ngcontent-%COMP%]{color:#e74c3c}.expiry-badge[_ngcontent-%COMP%]{display:inline-block;margin-left:.5rem;padding:.25rem .5rem;background-color:#27ae60;color:#fff;border-radius:12px;font-size:.75rem;font-weight:600}.expiry-badge.expired[_ngcontent-%COMP%]{background-color:#e74c3c}.info-content[_ngcontent-%COMP%]{color:#34495e;line-height:1.8}.info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.info-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin:1.5rem 0 .75rem}.info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:1rem 0;padding-left:1.5rem}.info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.75rem}.structure-diagram[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin:1.5rem 0;padding:1.5rem;background-color:#f8f9fa;border-radius:8px;flex-wrap:wrap}.jwt-part[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:1rem;border-radius:6px;text-align:center}.jwt-part[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1.1rem}.jwt-part[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#555}.jwt-header[_ngcontent-%COMP%]{background-color:#c8e6c9;border:2px solid #4caf50}.jwt-payload[_ngcontent-%COMP%]{background-color:#bbdefb;border:2px solid #2196f3}.jwt-signature[_ngcontent-%COMP%]{background-color:#ffe0b2;border:2px solid #ff9800}.jwt-dot[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2c3e50}.use-cases[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:1.5rem;border-radius:8px;border-left:4px solid #4caf50}.use-cases[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#2e7d32;margin-bottom:.75rem}.use-cases[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1b5e20}.warning-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffe8a1);border-left:4px solid #ffc107;padding:1.5rem;border-radius:8px;margin:1.5rem 0}.warning-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.5rem}.warning-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#856404;margin-bottom:.5rem}.code-section[_ngcontent-%COMP%]{margin:1.5rem 0}.code-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:1rem 0 .5rem;color:#2c3e50}.code-section[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:.5rem 0 1.5rem}@media(max-width:768px){.structure-diagram[_ngcontent-%COMP%]{flex-direction:column}.jwt-part[_ngcontent-%COMP%]{width:100%}.jwt-dot[_ngcontent-%COMP%]{transform:rotate(90deg)}.claim-row[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.claim-value[_ngcontent-%COMP%]{text-align:left}}"]})};export{N as JwtDecoder};
